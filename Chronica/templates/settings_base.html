{% extends "base.html" %}

{% block content %}
<div class="container mt-4" id="sbar">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3">
            <div class="list-group">
                <a href="{{ url_for('profile1') }}" class="list-group-item {% if request.endpoint == 'profile1' %}active{% endif %}">Profile</a>
                <a href="{{ url_for('list_conversations') }}" class="list-group-item {% if request.endpoint == 'list_conversations' %}active{% endif %}">Direct Messages (Coming Soon!)</a>
                <a href="#" id="dark-mode-toggle" class="list-group-item" style="border-radius: 5px;">
                    Toggle Dark Mode
                </a>
                <!-- Add more links as needed -->
            </div>
        </div>
        <!-- Main Content -->
        <div class="col-md-9">
            {% block settings_content %}
            {% endblock %}
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Check if dark mode is enabled in local storage
        const isDarkMode = localStorage.getItem('dark-mode') === 'enabled';

        // Function to enable dark mode
        function enableDarkMode() {
            document.body.classList.add('dark-mode');
            document.getElementById('dark-mode-toggle').textContent = 'Switch to Light Mode'; // Change button text
            localStorage.setItem('dark-mode', 'enabled'); // Save dark mode state
        }

        // Function to disable dark mode
        function disableDarkMode() {
            document.body.classList.remove('dark-mode');
            document.getElementById('dark-mode-toggle').textContent = 'Switch to Dark Mode'; // Change button text
            localStorage.setItem('dark-mode', 'disabled'); // Save light mode state
        }

        // Initialize dark mode based on local storage
        if (isDarkMode) {
            enableDarkMode();
        } else {
            disableDarkMode();
        }

        // Toggle dark mode on button click
        document.getElementById('dark-mode-toggle').addEventListener('click', function () {
            const isDarkModeEnabled = document.body.classList.contains('dark-mode');
            if (isDarkModeEnabled) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        });
    });
</script>
{% endblock %}